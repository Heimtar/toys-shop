import React from "react";
import { NavLink, Outlet } from "react-router-dom";
import Cart from "../Components/Cart";

const Layout = ({ setItemInCart, itemInCart, onRemoveFromCart }) => {
  const [onCartOpen, setOnCartOpen] = React.useState(false);
  let summCost = itemInCart.reduce((sum, obj) => obj.cost + sum, 0);
  return (
    <>
      <header>
        <NavLink to="/">
          <div className="headerLeft">
            <img className="logo" src="/common/spray-300-300.webp" alt="logo" />
            <div>
              <h1>{"Магазин игрушек".toUpperCase()}</h1>
              <b>Cозданы чтобы радовать</b>
            </div>
          </div>
        </NavLink>
        <div className="headerRight">
          <svg
            height="24"
            width="24"
            viewBox="0 0 25 24"
            xmlns="http://www.w3.org/2000/svg"
            className="cartSvg"
            onClick={() => setOnCartOpen(true)}
          >
            <path d="M7.5 22C6.95 22 6.47933 21.8043 6.088 21.413C5.696 21.021 5.5 20.55 5.5 20C5.5 19.45 5.696 18.979 6.088 18.587C6.47933 18.1957 6.95 18 7.5 18C8.05 18 8.52067 18.1957 8.912 18.587C9.304 18.979 9.5 19.45 9.5 20C9.5 20.55 9.304 21.021 8.912 21.413C8.52067 21.8043 8.05 22 7.5 22ZM17.5 22C16.95 22 16.4793 21.8043 16.088 21.413C15.696 21.021 15.5 20.55 15.5 20C15.5 19.45 15.696 18.979 16.088 18.587C16.4793 18.1957 16.95 18 17.5 18C18.05 18 18.521 18.1957 18.913 18.587C19.3043 18.979 19.5 19.45 19.5 20C19.5 20.55 19.3043 21.021 18.913 21.413C18.521 21.8043 18.05 22 17.5 22ZM6.65 6L9.05 11H16.05L18.8 6H6.65ZM5.7 4H20.45C20.8333 4 21.125 4.17067 21.325 4.512C21.525 4.854 21.5333 5.2 21.35 5.55L17.8 11.95C17.6167 12.2833 17.3707 12.5417 17.062 12.725C16.754 12.9083 16.4167 13 16.05 13H8.6L7.5 15H19.5V17H7.5C6.75 17 6.18333 16.6707 5.8 16.012C5.41667 15.354 5.4 14.7 5.75 14.05L7.1 11.6L3.5 4H1.5V2H4.75L5.7 4Z"></path>
          </svg>

          <b>{summCost} руб</b>
          <NavLink to="favorites">
            <svg
              height="24"
              width="24"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              className="favoriteSvg"
            >
              <path d="M12 21L10.55 19.7C8.86667 18.1834 7.475 16.875 6.375 15.775C5.275 14.675 4.4 13.6874 3.75 12.812C3.1 11.9374 2.646 11.1334 2.388 10.4C2.12933 9.66669 2 8.91669 2 8.15002C2 6.58336 2.525 5.27502 3.575 4.22502C4.625 3.17502 5.93333 2.65002 7.5 2.65002C8.36667 2.65002 9.19167 2.83336 9.975 3.20002C10.7583 3.56669 11.4333 4.08336 12 4.75002C12.5667 4.08336 13.2417 3.56669 14.025 3.20002C14.8083 2.83336 15.6333 2.65002 16.5 2.65002C18.0667 2.65002 19.375 3.17502 20.425 4.22502C21.475 5.27502 22 6.58336 22 8.15002C22 8.91669 21.871 9.66669 21.613 10.4C21.3543 11.1334 20.9 11.9374 20.25 12.812C19.6 13.6874 18.725 14.675 17.625 15.775C16.525 16.875 15.1333 18.1834 13.45 19.7L12 21ZM12 18.3C13.6 16.8667 14.9167 15.6374 15.95 14.612C16.9833 13.5874 17.8 12.696 18.4 11.938C19 11.1794 19.4167 10.504 19.65 9.91202C19.8833 9.32069 20 8.73336 20 8.15002C20 7.15002 19.6667 6.31669 19 5.65002C18.3333 4.98336 17.5 4.65002 16.5 4.65002C15.7167 4.65002 14.9917 4.87069 14.325 5.31202C13.6583 5.75402 13.2 6.31669 12.95 7.00002H11.05C10.8 6.31669 10.3417 5.75402 9.675 5.31202C9.00833 4.87069 8.28333 4.65002 7.5 4.65002C6.5 4.65002 5.66667 4.98336 5 5.65002C4.33333 6.31669 4 7.15002 4 8.15002C4 8.73336 4.11667 9.32069 4.35 9.91202C4.58333 10.504 5 11.1794 5.6 11.938C6.2 12.696 7.01667 13.5874 8.05 14.612C9.08333 15.6374 10.4 16.8667 12 18.3Z"></path>
            </svg>
          </NavLink>
          <NavLink to="orders">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              className="personalSvg"
            >
              <path d="M5.85 17.1C6.7 16.45 7.65 15.9373 8.7 15.562C9.75 15.1873 10.85 15 12 15C13.15 15 14.25 15.1873 15.3 15.562C16.35 15.9373 17.3 16.45 18.15 17.1C18.7333 16.4167 19.1877 15.6417 19.513 14.775C19.8377 13.9083 20 12.9833 20 12C20 9.78333 19.221 7.89567 17.663 6.337C16.1043 4.779 14.2167 4 12 4C9.78333 4 7.896 4.779 6.338 6.337C4.77933 7.89567 4 9.78333 4 12C4 12.9833 4.16267 13.9083 4.488 14.775C4.81267 15.6417 5.26667 16.4167 5.85 17.1ZM12 13C11.0167 13 10.1873 12.6627 9.512 11.988C8.83733 11.3127 8.5 10.4833 8.5 9.5C8.5 8.51667 8.83733 7.68733 9.512 7.012C10.1873 6.33733 11.0167 6 12 6C12.9833 6 13.8127 6.33733 14.488 7.012C15.1627 7.68733 15.5 8.51667 15.5 9.5C15.5 10.4833 15.1627 11.3127 14.488 11.988C13.8127 12.6627 12.9833 13 12 13ZM12 22C10.6167 22 9.31667 21.7373 8.1 21.212C6.88333 20.6873 5.825 19.975 4.925 19.075C4.025 18.175 3.31267 17.1167 2.788 15.9C2.26267 14.6833 2 13.3833 2 12C2 10.6167 2.26267 9.31667 2.788 8.1C3.31267 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.31233 8.1 2.787C9.31667 2.26233 10.6167 2 12 2C13.3833 2 14.6833 2.26233 15.9 2.787C17.1167 3.31233 18.175 4.025 19.075 4.925C19.975 5.825 20.6873 6.88333 21.212 8.1C21.7373 9.31667 22 10.6167 22 12C22 13.3833 21.7373 14.6833 21.212 15.9C20.6873 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6873 15.9 21.212C14.6833 21.7373 13.3833 22 12 22ZM12 20C12.8833 20 13.7167 19.871 14.5 19.613C15.2833 19.3543 16 18.9833 16.65 18.5C16 18.0167 15.2833 17.6457 14.5 17.387C13.7167 17.129 12.8833 17 12 17C11.1167 17 10.2833 17.129 9.5 17.387C8.71667 17.6457 8 18.0167 7.35 18.5C8 18.9833 8.71667 19.3543 9.5 19.613C10.2833 19.871 11.1167 20 12 20ZM12 11C12.4333 11 12.7917 10.8583 13.075 10.575C13.3583 10.2917 13.5 9.93333 13.5 9.5C13.5 9.06667 13.3583 8.70833 13.075 8.425C12.7917 8.14167 12.4333 8 12 8C11.5667 8 11.2083 8.14167 10.925 8.425C10.6417 8.70833 10.5 9.06667 10.5 9.5C10.5 9.93333 10.6417 10.2917 10.925 10.575C11.2083 10.8583 11.5667 11 12 11Z"></path>
            </svg>
          </NavLink>
        </div>
      </header>

      <Outlet />
      {onCartOpen && (
        <Cart
          onClose={() => setOnCartOpen(false)}
          itemInCart={itemInCart}
          onCartOpen={onCartOpen}
          onRemoveFromCart={onRemoveFromCart}
          setItemInCart={setItemInCart}
          summCost={summCost}
        />
      )}

      <footer>
        <h3>Контакты</h3>
        <ul>
          <li>Телефон</li>
          <li>Адрес</li>
        </ul>
      </footer>
    </>
  );
};

export default Layout;
